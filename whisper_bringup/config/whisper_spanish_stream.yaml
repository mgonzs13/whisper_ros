# Whisper node parameters
/whisper/whisper_node:
  ros__parameters:
    # Model parameters
    model:
      repo: "ggerganov/whisper.cpp"
      filename: "ggml-large-v3-turbo-q5_0.bin"
      path: ""
      openvino_encode_device: "CPU"

    # Sampling parameters
    sampling:
      strategy: "beam_search"
      greedy_best_of: 5
      beam_search_beam_size: 5
      beam_search_patience: -1.0

    # Transcription parameters
    transcription:
      n_threads: 4
      n_max_text_ctx: 16384
      n_processors: 1
      offset_ms: 0
      duration_ms: 0
      audio_ctx: 0
      language: "es"
      detect_language: false
      translate: false
      no_context: true
      no_timestamps: false
      single_segment: false
      initial_prompt: ""
      carry_initial_prompt: false
      suppress_regex: ""
      suppress_blank: true
      suppress_nst: false

    # Token timestamps parameters
    token_timestamps:
      enabled: false
      thold_pt: 0.01
      thold_ptsum: 0.01
      max_len: 0
      split_on_word: false
      max_tokens: 0

    # Decoding / fallback parameters
    decoding:
      temperature: 0.0
      max_initial_ts: 1.0
      length_penalty: -1.0
      temperature_inc: 0.2
      entropy_thold: 2.4
      logprob_thold: -1.0
      no_speech_thold: 0.6

    # Speaker diarization parameters
    diarization:
      tdrz_enable: false

    # GPU / backend parameters
    gpu:
      enabled: true
      flash_attn: true
      device: 0

    # DTW token timestamps parameters
    dtw:
      token_timestamps: false
      n_top: -1
      aheads: "none"
